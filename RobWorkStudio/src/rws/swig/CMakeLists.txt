

FIND_PACKAGE(SWIG 1.3)
MESSAGE(STATUS "${SWIG_FOUND}")
MESSAGE(STATUS "${SWIG_DIR}")
MESSAGE(STATUS "${SWIG_EXECUTABLE}")
MESSAGE(STATUS "${SWIG_VERSION}")

IF( SWIG_FOUND ) 
	MESSAGE(STATUS "SWIG found adding swig modules!")
	INCLUDE(UseSWIG)
	
	SET(CMAKE_SWIG_FLAGS "")

	SET_SOURCE_FILES_PROPERTIES(rws.i PROPERTIES CPLUSPLUS ON)
	SET_SOURCE_FILES_PROPERTIES(rws.i PROPERTIES SWIG_FLAGS "-includeall")

    SWIG_ADD_MODULE(rwslua lua rws.i LuaState.cpp ScriptTypes.cpp)
    SWIG_LINK_LIBRARIES(rwslua rwstudio ${ROBWORKSTUDIO_LIBRARIES} ${ROBWORK_LIBRARIES})
    
    ADD_LIBRARY(rwstudio_lua STATIC ${swig_generated_sources} ${swig_other_sources})
    LINK_LIBRARIES(rwstudio_lua rwstudio ${ROBWORKSTUDIO_LIBRARIES} ${ROBWORK_LIBRARIES})
	
	FIND_PACKAGE(PythonInterp)
	FIND_PACKAGE(PythonLibs)
	MESSAGE("PYTHONINTERP_FOUND:  ${PYTHONINTERP_FOUND}" )
	MESSAGE("PYTHONLIBS_FOUND:  ${PYTHONLIBS_FOUND}" )
	IF( PYTHONLIBS_FOUND AND PYTHONINTERP_FOUND )
	    INCLUDE_DIRECTORIES(${PYTHON_INCLUDE_DIRS})
	    SWIG_ADD_MODULE(rws python rws.i)
	    SWIG_LINK_LIBRARIES(rws rwstudio ${ROBWORKSTUDIO_LIBRARIES} ${ROBWORK_LIBRARIES} ${PYTHON_LIBRARIES} )
	ENDIF()  
	
ENDIF()
