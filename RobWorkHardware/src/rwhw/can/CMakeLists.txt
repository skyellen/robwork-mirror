
SET(SRC_CPP ${RW_IO_USER_FILES} CANPortFactory.cpp)
SET(SRC_HPP )

FIND_PACKAGE(ESDCAN)
IF( ESDCAN_FOUND )
 INCLUDE_DIRECTORIES( ${ESDCAN_INCLUDE_DIR} )
 LIST(APPEND SRC_CPP ./ESDCAN/ESDCANPort.cpp)
 LIST(APPEND SRC_HPP ./ESDCAN/ESDCANPort.hpp)
ENDIF()

FIND_PACKAGE(IEICAN)
IF(IEICAN_FOUND)
 INCLUDE_DIRECTORIES( ${IEICAN_INCLUDE_DIR} )
 LIST(APPEND SRC_CPP ./IEICAN02/IEICANPort.cpp)
 LIST(APPEND SRC_HPP ./IEICAN02/IEICANPort.hpp)
ENDIF()

ADD_LIBRARY(rwhw_can ${SRC_CPP} ${SRC_HPP})
INSTALL(TARGETS rwhw_can DESTINATION ${RWHW_LIB_INSTALL_DIR})
SET( ENV{ROBWORKHARDWARE_LIBRARIES} "$ENV{ROBWORKHARDWARE_LIBRARIES}rwhw_can;")

