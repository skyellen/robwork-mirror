SET(SUBSYS_NAME katana )
SET(SUBSYS_DESC "Library for controlling the katana robot" )
SET(SUBSYS_DEPS rw )

FIND_PACKAGE(KATANA QUIET)
set(DEFAULT TRUE)
set(REASON "katana library found!")
IF( NOT KATANA_FOUND)
    set(DEFAULT false)
    set(REASON "katana library not found!")
endif()
 
SET(build TRUE)
 
RW_SUBSYS_OPTION( build ${SUBSYS_NAME} ${SUBSYS_DESC} ${DEFAULT} ${REASON})
RW_SUBSYS_DEPEND( build ${SUBSYS_NAME} DEPS ${SUBSYS_DEPS} )
RW_ADD_DOC( ${SUBSYS_NAME} )

IF( build )
    FIND_PACKAGE(KATANA)
    IF(KATANA_FOUND)
     MESSAGE(STATUS "Katana sdk found. Katana driver will be build!")
     INCLUDE_DIRECTORIES(${KATANA_INCLUDE_DIR})
     ADD_LIBRARY(rwhw_katana Katana.cpp Katana.hpp)
     INSTALL(TARGETS rwhw_katana DESTINATION ${RWHW_LIB_INSTALL_DIR})
     set( ENV{ROBWORKHARDWARE_LIBRARIES} "$ENV{ROBWORKHARDWARE_LIBRARIES}rwhw_katana;") 
    ELSE()
     MESSAGE(STATUS "RobWorkHardware: Katana sdk NOT found. Katana driver will NOT be build!")
    ENDIF()
ENDIF()